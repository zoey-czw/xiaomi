"use strict";!function(){var e=$(".common-header"),c=$(".common-footer");e.load("../pages/header.html"),c.load("../pages/footer.html")}(),function(){var o=localStorage.getItem("id"),i=$(".detailShow"),s=$(".dot"),l=$(".sb-lfet"),d=$(".message"),r=$(".style-choose ul"),p=$(".detail-check"),u=$(".address-stock"),f=null;function n(){var c=$(".detailShow img"),t=$(".dot span"),e=$(".turnL"),a=$(".turnR"),n=0,o=null,i=0;function s(){c.eq(n).stop(!0,!0),c.eq(n).css("z-index","1"),c.eq(n).animate({opacity:.2}),t.eq(n).css("backgroundColor","#d6d6d6"),f<(i=++n)&&(n=0),c.eq(n).css("z-index","2"),c.eq(n).animate({opacity:1}),t.eq(n).css("backgroundColor","#a3a3a3"),i=n}function l(){clearInterval(o),o=setInterval(function(){s()},2e3)}l(),a.click(function(){clearInterval(o),s(),l()}),e.click(function(){clearInterval(o),c.eq(n).stop(!0,!0),c.eq(n).css("z-index","1"),c.eq(n).animate({opacity:.2}),t.eq(n).css("backgroundColor","#d6d6d6"),--n<0&&(n=f),c.eq(n).css("z-index","2"),c.eq(n).animate({opacity:1}),t.eq(n).css("backgroundColor","#a3a3a3"),i=n,l()}),t.click(function(){clearInterval(o),c.eq(i).stop(!0,!0),c.eq(n).css("z-index","1"),c.eq(i).animate({opacity:.2}),t.eq(n).css("backgroundColor","#d6d6d6");var e=$(this).attr("idx");n=e,c.eq(n).css("z-index","2"),c.eq(e).animate({opacity:1}),t.eq(n).css("backgroundColor","#a3a3a3"),i=e}),c.mouseenter(function(){clearInterval(o)}),c.mouseleave(function(){l()})}function m(e,c){var t=e[o].type,a=e[o][c].imgUrl,n=e[o][c];f=a.length-1,$.each(a,function(e,c){i.append('<img src="'.concat(c,'" alt="加载失败">')),s.append('<span idx = "'.concat(e,'"></span>'))}),l.text(n.title),d.append('<h1 class="detail-title"> <img src="../image/goodsDetail-logo.jpg" alt=""> '.concat(n.title,'</h1>\n            <p class="detail-tip"><span>').concat(n.tip1,"</span><span> ").concat(n.tip2,'</span></p>\n            <p class="xm">小米自营</p>\n            <p class="allprice"><span class="detail-price">').concat(n.price,'</span><del class="detail-delete">').concat(n.del,"</del></p>\n            <hr/>")),p.append('<div>\n            <p class="checkL"> '.concat(n.title,'</p>\n            <p class="checkR">').concat(n.price,"</p>\n        </div>\n        <p>总计: ").concat(n.price,"</p>")),0<n.stock?u.text("有现货"):u.text("该地区货存不足"),$.each(t,function(e,c){r.append("<li>".concat(c,"</li>"))})}1==o||3==o?o=1:2!=o&&4!=o||(o=2),$.ajax({url:"../data/goodsDetail.json",type:"get",data:"",dataType:"json",success:function(a){m(a,0),r.on("click","li",function(){var t=$(this);$.each(a[o].type,function(e,c){if(c==t.text())return i.html(""),s.html(""),d.html(""),p.html(""),r.html(""),m(a,e),n(),void $(".style-choose ul li").eq(e).css({color:"#ff6700",border:"1px solid #ff6700"})})})},complete:function(){n(),$(".style-choose ul li").eq(0).css({color:"#ff6700",border:"1px solid #ff6700"})}})}(),function(){var e=$(".close"),c=$(".mask"),t=$(".correct");e.click(function(){c.animate({opacity:"0.2"},300,function(){c.hide()})}),t.click(function(){c.show(),c.animate({opacity:"1"},300)})}();