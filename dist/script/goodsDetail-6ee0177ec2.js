"use strict";!function(){var a=$(".common-header"),t=$(".common-footer");a.load("../pages/header.html"),t.load("../pages/footer.html")}(),function(){var o=localStorage.getItem("id"),i=$(".detailShow"),s=$(".dot"),l=$(".sb-lfet"),p=$(".message"),d=$(".style-choose ul"),r=($(".style-choose ul li"),$(".detail-check")),u=$(".address-stock"),m=null;1==o||3==o?o=1:2!=o&&4!=o||(o=2),$.ajax({url:"../data/goodsDetail.json",type:"get",data:"",dataType:"json",success:function(c){function n(a,t){var e=a[o].type,c=a[o][t].imgUrl,n=a[o][t];m=c.length-1,$.each(c,function(a,t){i.append('<img src="'.concat(t,'" alt="加载失败">')),s.append('<span idx = "'.concat(a,'"></span>'))}),l.text(n.title),p.append('<h1 class="detail-title"> <img src="../image/goodsDetail-logo.jpg" alt=""> '.concat(n.title,'</h1>\n                    <p class="detail-tip"><span>').concat(n.tip1,"</span><span> ").concat(n.tip2,'</span></p>\n                    <p class="xm">小米自营</p>\n                    <p class="allprice"><span class="detail-price">').concat(n.price,'</span><del class="detail-delete">').concat(n.del,"</del></p>\n                    <hr/>")),r.append('<div>\n                    <p class="checkL"> '.concat(n.title,'</p>\n                    <p class="checkR">').concat(n.price,"</p>\n                </div>\n                <p>总计: ").concat(n.price,"</p>")),0<n.stock?u.text("有现货"):u.text("该地区货存不足"),$.each(e,function(a,t){d.append("<li>".concat(t,"</li>"))})}n(c,0),d.on("click","li",function(){var e=this;$.each(c[o].type,function(a,t){t==$(e).text()&&(i.html(""),s.html(""),p.html(""),r.html(""),d.html(""),n(c,a))})})},complete:function(){var t=$(".detailShow img"),e=$(".dot span"),a=$(".turnL"),c=$(".turnR"),n=0,o=null,i=0;function s(){t.eq(n).stop(!0,!0),t.eq(n).css("z-index","1"),t.eq(n).animate({opacity:.2}),e.eq(n).css("backgroundColor","#d6d6d6"),m<(i=++n)&&(n=0),t.eq(n).css("z-index","2"),t.eq(n).animate({opacity:1}),e.eq(n).css("backgroundColor","#a3a3a3"),i=n}function l(){clearInterval(o),o=setInterval(function(){s()},2e3)}l(),c.click(function(){clearInterval(o),s(),l()}),a.click(function(){clearInterval(o),t.eq(n).stop(!0,!0),t.eq(n).css("z-index","1"),t.eq(n).animate({opacity:.2}),e.eq(n).css("backgroundColor","#d6d6d6"),--n<0&&(n=m),t.eq(n).css("z-index","2"),t.eq(n).animate({opacity:1}),e.eq(n).css("backgroundColor","#a3a3a3"),i=n,l()}),e.click(function(){clearInterval(o),t.eq(i).stop(!0,!0),t.eq(n).css("z-index","1"),t.eq(i).animate({opacity:.2}),e.eq(n).css("backgroundColor","#d6d6d6");var a=$(this).attr("idx");n=a,t.eq(n).css("z-index","2"),t.eq(a).animate({opacity:1}),e.eq(n).css("backgroundColor","#a3a3a3"),i=a}),t.mouseenter(function(){clearInterval(o)}),t.mouseleave(function(){l()})}})}(),function(){var a=$(".close"),t=$(".mask"),e=$(".correct");a.click(function(){t.animate({opacity:"0.2"},300,function(){t.hide()})}),e.click(function(){t.show(),t.animate({opacity:"1"},300)})}();